{"ast":null,"code":"function Camera() {\n  const screenshot = document.getElementById('screenshotButton');\n  const cameraOptions = document.getElementById('select');\n  const video = document.getElementById('video');\n  const canvas = document.getElementById('canvas');\n  const screenshotImage = document.getElementById('screenshot');\n  const constraints = {\n    video: {\n      width: {\n        min: 1280,\n        ideal: 1920,\n        max: 2560\n      },\n      height: {\n        min: 720,\n        ideal: 1080,\n        max: 1440\n      }\n    }\n  };\n\n  cameraOptions.onchange = () => {\n    const updatedConstraints = { ...constraints,\n      deviceId: {\n        exact: cameraOptions.value\n      }\n    };\n    startStream(updatedConstraints, video, play, screenshot);\n  };\n\n  if ('mediaDevices' in navigator && navigator.mediaDevices.getUserMedia) {\n    const updatedConstraints = { ...constraints,\n      deviceId: {\n        exact: cameraOptions.value\n      }\n    };\n    startStream(updatedConstraints, video, play, screenshot);\n  }\n\n  const doScreenshot = () => {\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    canvas.getContext('2d').drawImage(video, 0, 0);\n    screenshotImage.src = canvas.toDataURL('image/webp');\n    screenshotImage.classList.remove('d-none');\n  };\n\n  screenshot.onclick = doScreenshot;\n\n  const getCameraSelection = async () => {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    const videoDevices = devices.filter(device => device.kind === 'videoinput');\n    const options = videoDevices.map(videoDevice => {\n      return `<option value=\"${videoDevice.deviceId}\">${videoDevice.label}</option>`;\n    });\n    cameraOptions.innerHTML = options.join('');\n  };\n\n  getCameraSelection();\n}\n\n_c = Camera;\n\nasync function startStream(constraints, video, play, screenshot) {\n  const stream = await navigator.mediaDevices.getUserMedia(constraints);\n  handleStream(stream, video, play, screenshot);\n}\n\nfunction handleStream(stream, video, play, screenshot) {\n  video.srcObject = stream;\n  play.classList.add('d-none');\n  screenshot.classList.remove('d-none');\n}\n\nexport default Camera;\n\nvar _c;\n\n$RefreshReg$(_c, \"Camera\");","map":{"version":3,"sources":["/Users/nickfaddis/Desktop/SLU/csCapstone/visualizing_whats_lost/react-capacitor-example/src/Camera.js"],"names":["Camera","screenshot","document","getElementById","cameraOptions","video","canvas","screenshotImage","constraints","width","min","ideal","max","height","onchange","updatedConstraints","deviceId","exact","value","startStream","play","navigator","mediaDevices","getUserMedia","doScreenshot","videoWidth","videoHeight","getContext","drawImage","src","toDataURL","classList","remove","onclick","getCameraSelection","devices","enumerateDevices","videoDevices","filter","device","kind","options","map","videoDevice","label","innerHTML","join","stream","handleStream","srcObject","add"],"mappings":"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","sourcesContent":["function Camera(){\n    const screenshot = document.getElementById('screenshotButton');\n    const cameraOptions = document.getElementById('select');\n    const video = document.getElementById('video');\n    const canvas = document.getElementById('canvas');\n    const screenshotImage = document.getElementById('screenshot');\n\n    const constraints = {\n        video: {\n            width: {\n            min: 1280,\n            ideal: 1920,\n            max: 2560,\n            },\n            height: {\n            min: 720,\n            ideal: 1080,\n            max: 1440\n            },\n        }\n    };\n\n    cameraOptions.onchange = () => {\n        const updatedConstraints = {\n            ...constraints,\n            deviceId: {\n            exact: cameraOptions.value\n            }\n        };\n\n        startStream(updatedConstraints, video, play, screenshot);\n    };\n\n    if ('mediaDevices' in navigator && navigator.mediaDevices.getUserMedia) {\n        const updatedConstraints = {\n        ...constraints,\n        deviceId: {\n            exact: cameraOptions.value\n        }\n        };\n        startStream(updatedConstraints, video, play, screenshot);\n    }\n\n    const doScreenshot = () => {\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        canvas.getContext('2d').drawImage(video, 0, 0);\n        screenshotImage.src = canvas.toDataURL('image/webp');\n        screenshotImage.classList.remove('d-none');\n    };\n\n    screenshot.onclick = doScreenshot;\n\n    const getCameraSelection = async () => {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter(device => device.kind === 'videoinput');\n        const options = videoDevices.map(videoDevice => {\n            return `<option value=\"${videoDevice.deviceId}\">${videoDevice.label}</option>`;\n        });\n        cameraOptions.innerHTML = options.join('');\n    };\n\n    getCameraSelection();\n}\n\nasync function startStream(constraints, video, play, screenshot) {\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\n    handleStream(stream, video, play, screenshot);\n}\n\nfunction handleStream(stream, video, play, screenshot) {\n    video.srcObject = stream;\n    play.classList.add('d-none');\n    screenshot.classList.remove('d-none');\n}\n\nexport default Camera;"]},"metadata":{},"sourceType":"module"}