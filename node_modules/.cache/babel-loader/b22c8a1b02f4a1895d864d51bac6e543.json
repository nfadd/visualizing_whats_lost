{"ast":null,"code":"var _jsxFileName = \"/Users/nickfaddis/Desktop/SLU/csCapstone/visualizing_whats_lost/react-capacitor-example/src/MapContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport { onValue } from \"firebase/database\";\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css'; //Must have this otherwise pins don't anchor\n\nimport connect_to_firebase from './query/connect_to_firebase.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1Ijoibmlja2ZhZGRpcyIsImEiOiJja3Vwemt0amwwbnVoMnZwZ2dreW81OTQwIn0.qerYpAFHJUlYynqbympvAA';\n\nconst MapContainer = () => {\n  _s();\n\n  const mapContainer = useRef(null);\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/nickfaddis/ckurogok00w1l18mmby6l9zsf',\n      center: [-90.221932, 38.632511],\n      zoom: 15\n    });\n    map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n    onValue(connect_to_firebase, snapshot => {\n      const data = snapshot.val();\n      data.forEach(element => {\n        const marker = new mapboxgl.Marker();\n        var long = element.lng;\n        var lat = element.lat;\n        marker.setLngLat([long, lat]);\n        marker.addTo(map);\n        marker.getElement().addEventListener('click', () => {\n          var temp = document.getElementById(\"popup\");\n\n          while (temp.childElementCount > 2) {\n            temp.removeChild(temp.lastChild);\n          }\n\n          document.getElementById(\"popup\").style.height = \"50%\";\n          var node = document.createElement('a');\n          var name = document.createTextNode(element.Name);\n          node.appendChild(name);\n          document.getElementById(\"popup\").appendChild(node);\n          var image = document.createElement('img');\n          image.src = element.image_url;\n          document.getElementById(\"popup\").appendChild(image);\n        });\n      });\n    }); //TODO: Create radio button to change between labeled and non-labeled styles\n    //map.setStyle('mapbox://styles/mapbox/outdoors-v11');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    style: {\n      height: '100vh'\n    },\n    ref: mapContainer\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 12\n  }, this);\n};\n\n_s(MapContainer, \"6zcGo6SVCAaKoYrOkDL9zc4/xh8=\");\n\n_c = MapContainer;\nexport default MapContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapContainer\");","map":{"version":3,"sources":["/Users/nickfaddis/Desktop/SLU/csCapstone/visualizing_whats_lost/react-capacitor-example/src/MapContainer.js"],"names":["React","useRef","useEffect","onValue","mapboxgl","connect_to_firebase","accessToken","MapContainer","mapContainer","map","Map","container","current","style","center","zoom","addControl","NavigationControl","snapshot","data","val","forEach","element","marker","Marker","long","lng","lat","setLngLat","addTo","getElement","addEventListener","temp","document","getElementById","childElementCount","removeChild","lastChild","height","node","createElement","name","createTextNode","Name","appendChild","image","src","image_url"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,8BAAP,C,CAAsC;;AACtC,OAAOC,mBAAP,MAAgC,gCAAhC;;AAEAD,QAAQ,CAACE,WAAT,GAAuB,+FAAvB;;AAGA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACvB,QAAMC,YAAY,GAAGP,MAAM,CAAC,IAAD,CAA3B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMO,GAAG,GAAG,IAAIL,QAAQ,CAACM,GAAb,CAAiB;AACzBC,MAAAA,SAAS,EAAEH,YAAY,CAACI,OADC;AAEzBC,MAAAA,KAAK,EAAE,sDAFkB;AAGzBC,MAAAA,MAAM,EAAE,CAAC,CAAC,SAAF,EAAa,SAAb,CAHiB;AAIzBC,MAAAA,IAAI,EAAE;AAJmB,KAAjB,CAAZ;AAOAN,IAAAA,GAAG,CAACO,UAAJ,CAAe,IAAIZ,QAAQ,CAACa,iBAAb,EAAf,EAAiD,WAAjD;AAEAd,IAAAA,OAAO,CAACE,mBAAD,EAAuBa,QAAD,IAAc;AACvC,YAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAaC,OAAO,IAAI;AACpB,cAAMC,MAAM,GAAG,IAAInB,QAAQ,CAACoB,MAAb,EAAf;AACA,YAAIC,IAAI,GAAGH,OAAO,CAACI,GAAnB;AACA,YAAIC,GAAG,GAAGL,OAAO,CAACK,GAAlB;AACAJ,QAAAA,MAAM,CAACK,SAAP,CAAiB,CAACH,IAAD,EAAME,GAAN,CAAjB;AACAJ,QAAAA,MAAM,CAACM,KAAP,CAAapB,GAAb;AAEAc,QAAAA,MAAM,CAACO,UAAP,GAAoBC,gBAApB,CAAqC,OAArC,EAA8C,MAAM;AAChD,cAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAX;;AACA,iBAAMF,IAAI,CAACG,iBAAL,GAAyB,CAA/B,EAAkC;AAC9BH,YAAAA,IAAI,CAACI,WAAL,CAAiBJ,IAAI,CAACK,SAAtB;AACH;;AAEDJ,UAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCrB,KAAjC,CAAuCyB,MAAvC,GAAgD,KAAhD;AAEA,cAAIC,IAAI,GAAGN,QAAQ,CAACO,aAAT,CAAuB,GAAvB,CAAX;AACA,cAAIC,IAAI,GAAGR,QAAQ,CAACS,cAAT,CAAwBpB,OAAO,CAACqB,IAAhC,CAAX;AACAJ,UAAAA,IAAI,CAACK,WAAL,CAAiBH,IAAjB;AACAR,UAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCU,WAAjC,CAA6CL,IAA7C;AAEA,cAAIM,KAAK,GAAGZ,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAAZ;AACAK,UAAAA,KAAK,CAACC,GAAN,GAAYxB,OAAO,CAACyB,SAApB;AACAd,UAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCU,WAAjC,CAA6CC,KAA7C;AACH,SAhBD;AAiBH,OAxBD;AAyBH,KA3BM,CAAP,CAVY,CAuCZ;AACA;AACH,GAzCQ,EAyCN,EAzCM,CAAT;AA2CA,sBAAO;AAAK,IAAA,SAAS,EAAC,eAAf;AAA+B,IAAA,KAAK,EAAE;AAACP,MAAAA,MAAM,EAAE;AAAT,KAAtC;AAAyD,IAAA,GAAG,EAAG9B;AAA/D;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CA/CD;;GAAMD,Y;;KAAAA,Y;AAiDN,eAAeA,YAAf","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { onValue } from \"firebase/database\";\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css' //Must have this otherwise pins don't anchor\nimport connect_to_firebase from './query/connect_to_firebase.js';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoibmlja2ZhZGRpcyIsImEiOiJja3Vwemt0amwwbnVoMnZwZ2dreW81OTQwIn0.qerYpAFHJUlYynqbympvAA';\n\n\nconst MapContainer = () => {\n    const mapContainer = useRef(null);\n   \n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainer.current,\n            style: 'mapbox://styles/nickfaddis/ckurogok00w1l18mmby6l9zsf',\n            center: [-90.221932, 38.632511],\n            zoom: 15\n        });\n\n        map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n\n        onValue(connect_to_firebase, (snapshot) => {\n            const data = snapshot.val();\n            data.forEach(element => {\n                const marker = new mapboxgl.Marker();\n                var long = element.lng;\n                var lat = element.lat;\n                marker.setLngLat([long,lat]);\n                marker.addTo(map);\n\n                marker.getElement().addEventListener('click', () => {\n                    var temp = document.getElementById(\"popup\");\n                    while(temp.childElementCount > 2) {\n                        temp.removeChild(temp.lastChild);\n                    }\n\n                    document.getElementById(\"popup\").style.height = \"50%\";\n                    \n                    var node = document.createElement('a');\n                    var name = document.createTextNode(element.Name);\n                    node.appendChild(name);\n                    document.getElementById(\"popup\").appendChild(node);\n                    \n                    var image = document.createElement('img');\n                    image.src = element.image_url;\n                    document.getElementById(\"popup\").appendChild(image);\n                })\n            })\n        });\n\n        //TODO: Create radio button to change between labeled and non-labeled styles\n        //map.setStyle('mapbox://styles/mapbox/outdoors-v11');\n    }, []);\n\n    return <div className=\"map-container\" style={{height: '100vh'}} ref={ mapContainer } />;\n}\n\nexport default MapContainer;\n"]},"metadata":{},"sourceType":"module"}